// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        String    @id @default(uuid()) @postgresql.Uuid
  name      String    @default("")
  email     String    @unique @default("")
  isAdmin   Boolean   @default(false)
  password  String
  createdAt DateTime? @default(now())
}

model Place {
  id             String             @id @default(uuid()) @postgresql.Uuid
  featured       Boolean            @default(false)
  name           String             @unique @default("")
  address        String             @default("")
  website        String             @default("")
  neighborhood   PlaceNeighborhood? @relation("Place_neighborhood", fields: [neighborhoodId], references: [id])
  neighborhoodId String?            @map("neighborhood") @postgresql.Uuid
  image          Json?
  description    Json               @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  mainCategory   PlaceCategory?     @relation("Place_mainCategory", fields: [mainCategoryId], references: [id])
  mainCategoryId String?            @map("mainCategory") @postgresql.Uuid
  subCategory    PlaceCategory?     @relation("Place_subCategory", fields: [subCategoryId], references: [id])
  subCategoryId  String?            @map("subCategory") @postgresql.Uuid
  time           PlaceTime[]        @relation("Place_time")
  details        PlaceDetail[]      @relation("Place_details")

  @@index([neighborhoodId])
  @@index([mainCategoryId])
  @@index([subCategoryId])
}

model PlaceTime {
  id              String  @id @default(uuid()) @postgresql.Uuid
  day             String? @default("Sunday")
  time            String  @default("")
  from_Place_time Place[] @relation("Place_time")
}

model PlaceNeighborhood {
  id                      String  @id @default(uuid()) @postgresql.Uuid
  name                    String  @unique @default("")
  from_Place_neighborhood Place[] @relation("Place_neighborhood")
}

model PlaceDetail {
  id                 String  @id @default(uuid()) @postgresql.Uuid
  name               String  @unique @default("")
  from_Place_details Place[] @relation("Place_details")
}

model PlaceCategory {
  id                      String  @id @default(uuid()) @postgresql.Uuid
  name                    String  @unique @default("")
  from_Place_mainCategory Place[] @relation("Place_mainCategory")
  from_Place_subCategory  Place[] @relation("Place_subCategory")
}
